{"ast":null,"code":"import _regeneratorRuntime from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{baseURL}from'../global';import React from'react';var Inventory=/*#__PURE__*/function(_React$Component){_inherits(Inventory,_React$Component);var _super=_createSuper(Inventory);function Inventory(){var _this;_classCallCheck(this,Inventory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={balls:[]};return _this;}_createClass(Inventory,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var inventoryPath,response,inventory,allBallsInfo,_i,_Object$keys,ballName,ballInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:inventoryPath=\"/v1/inventory\";_context.next=3;return fetch(baseURL+inventoryPath);case 3:response=_context.sent;_context.next=6;return response.json();case 6:inventory=_context.sent;allBallsInfo=[];_i=0,_Object$keys=Object.keys(inventory.balls);case 9:if(!(_i<_Object$keys.length)){_context.next=20;break;}ballName=_Object$keys[_i];_context.next=13;return this.getBallInfo(ballName);case 13:ballInfo=_context.sent;ballInfo.remaining=inventory.balls[ballName];ballInfo.imageName=ballName;if(ballInfo){allBallsInfo.push(ballInfo);}case 17:_i++;_context.next=9;break;case 20:this.setState({balls:allBallsInfo});case 21:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getBallInfo\",value:function(){var _getBallInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ballName){var itemPath,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:itemPath=\"/v1/items/balls/\"+ballName;_context2.next=3;return fetch(baseURL+itemPath);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:return _context2.abrupt(\"return\",_context2.sent);case 7:case\"end\":return _context2.stop();}}},_callee2);}));function getBallInfo(_x){return _getBallInfo.apply(this,arguments);}return getBallInfo;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":\"flex\",\"flexWrap\":\"wrap\"}},this.state.balls.map(function(ball){return/*#__PURE__*/React.createElement(Item,Object.assign({key:ball.imageName},ball));}));}}]);return Inventory;}(React.Component);var Item=/*#__PURE__*/function(_React$Component2){_inherits(Item,_React$Component2);var _super2=_createSuper(Item);function Item(props){var _this2;_classCallCheck(this,Item);_this2=_super2.call(this,props);_this2.renderItemCard=function(){return/*#__PURE__*/React.createElement(\"div\",{className:\"card\",style:{\"padding\":5+\"px\",\"width\":250+\"px\"}},/*#__PURE__*/React.createElement(\"img\",{style:{\"width\":150+\"px\",\"height\":150+\"px\"},src:baseURL+\"/v1/items/image/\"+_this2.props.imageName,alt:_this2.props.itemName+\" image\"}),/*#__PURE__*/React.createElement(\"h4\",null,_this2.props.itemName),/*#__PURE__*/React.createElement(\"p\",null,_this2.props.desc),/*#__PURE__*/React.createElement(\"h4\",null,\"Remaining: \"+_this2.props.remaining));};return _this2;}_createClass(Item,[{key:\"render\",value:function render(){return this.renderItemCard();}}]);return Item;}(React.Component);export default Inventory;","map":{"version":3,"sources":["/Users/npham24/go/src/Gottacatchemall/clients/src/containers/Inventory.js"],"names":["baseURL","React","Inventory","state","balls","inventoryPath","fetch","response","json","inventory","allBallsInfo","Object","keys","ballName","getBallInfo","ballInfo","remaining","imageName","push","setState","itemPath","map","ball","Component","Item","props","renderItemCard","itemName","desc"],"mappings":"q8BAAA,OAASA,OAAT,KAAwB,WAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,S,mVACFC,K,CAAQ,CACJC,KAAK,CAAE,EADH,C,uXAKEC,a,CAAgB,e,uBACCC,CAAAA,KAAK,CAACN,OAAO,CAAGK,aAAX,C,QAAtBE,Q,qCACkBA,CAAAA,QAAQ,CAACC,IAAT,E,QAAlBC,S,eAEFC,Y,CAAe,E,mBACIC,MAAM,CAACC,IAAP,CAAYH,SAAS,CAACL,KAAtB,C,8DAAZS,Q,yCACc,MAAKC,WAAL,CAAiBD,QAAjB,C,SAAjBE,Q,eACJA,QAAQ,CAACC,SAAT,CAAqBP,SAAS,CAACL,KAAV,CAAgBS,QAAhB,CAArB,CACAE,QAAQ,CAACE,SAAT,CAAqBJ,QAArB,CAEA,GAAIE,QAAJ,CAAc,CACVL,YAAY,CAACQ,IAAb,CAAkBH,QAAlB,EACH,C,2CAGL,KAAKI,QAAL,CAAc,CACVf,KAAK,CAAEM,YADG,CAAd,E,0SAKcG,Q,4IACRO,Q,CAAW,mBAAqBP,Q,wBACfP,CAAAA,KAAK,CAACN,OAAO,CAAGoB,QAAX,C,QAAtBb,Q,uCACOA,CAAAA,QAAQ,CAACC,IAAT,E,qPAGR,CACL,mBACI,2BAAK,KAAK,CAAE,CAAC,UAAW,MAAZ,CAAoB,WAAY,MAAhC,CAAZ,EACK,KAAKL,KAAL,CAAWC,KAAX,CAAiBiB,GAAjB,CAAsB,SAAAC,IAAI,qBACvB,oBAAC,IAAD,gBAAM,GAAG,CAAEA,IAAI,CAACL,SAAhB,EAA+BK,IAA/B,EADuB,EAA1B,CADL,CADJ,CAMH,C,uBAvCmBrB,KAAK,CAACsB,S,KA0CxBC,CAAAA,I,2GACF,cAAaC,KAAb,CAAoB,uCAChB,yBAAMA,KAAN,EADgB,OAIpBC,cAJoB,CAIH,UAAM,CACnB,mBACI,2BAAK,SAAS,CAAC,MAAf,CACA,KAAK,CAAE,CACH,UAAW,EAAG,IADX,CAEH,QAAS,IAAM,IAFZ,CADP,eAKI,2BAAK,KAAK,CAAI,CAAC,QAAS,IAAK,IAAf,CAAqB,SAAU,IAAM,IAArC,CAAd,CACK,GAAG,CAAE1B,OAAO,CAAG,kBAAV,CAA+B,OAAKyB,KAAL,CAAWR,SADpD,CAEK,GAAG,CAAE,OAAKQ,KAAL,CAAWE,QAAX,CAAsB,QAFhC,EALJ,cAQI,8BAAK,OAAKF,KAAL,CAAWE,QAAhB,CARJ,cASI,6BAAI,OAAKF,KAAL,CAAWG,IAAf,CATJ,cAUI,8BAAK,cAAgB,OAAKH,KAAL,CAAWT,SAAhC,CAVJ,CADJ,CAcH,CAnBmB,eAEnB,C,wDAoBQ,CACL,MACI,MAAKU,cAAL,EADJ,CAGH,C,kBA3BczB,KAAK,CAACsB,S,EA8BzB,cAAerB,CAAAA,SAAf","sourcesContent":["import { baseURL } from '../global';\nimport React from 'react';\n\nclass Inventory extends React.Component {\n    state = {\n        balls: []\n    }\n\n    async componentDidMount() {\n        const inventoryPath = \"/v1/inventory\";\n        const response = await fetch(baseURL + inventoryPath);\n        const inventory = await response.json();\n\n        let allBallsInfo = [];\n        for (const ballName of Object.keys(inventory.balls)) {\n            let ballInfo = await this.getBallInfo(ballName);\n            ballInfo.remaining = inventory.balls[ballName];\n            ballInfo.imageName = ballName;\n\n            if (ballInfo) {\n                allBallsInfo.push(ballInfo);\n            }\n        }\n\n        this.setState({\n            balls: allBallsInfo\n        });\n    }\n\n    async getBallInfo(ballName) {\n        const itemPath = \"/v1/items/balls/\" + ballName;\n        const response = await fetch(baseURL + itemPath);\n        return await response.json();\n    }\n\n    render() {\n        return(\n            <div style={{\"display\": \"flex\", \"flexWrap\": \"wrap\"}}>\n                {this.state.balls.map((ball => \n                    <Item key={ball.imageName} {...ball} />))}\n            </div>\n        );\n    }\n}\n\nclass Item extends React.Component {\n    constructor (props) {\n        super(props);\n    }\n\n    renderItemCard = () => {\n        return(\n            <div className=\"card\" \n            style={{\n                \"padding\": 5 +\"px\",\n                \"width\": 250 + \"px\",\n            }}>\n                <img style = {{\"width\": 150+ \"px\", \"height\": 150 + \"px\"}} \n                     src={baseURL + \"/v1/items/image/\" + this.props.imageName} \n                     alt={this.props.itemName + \" image\"} />\n                <h4>{this.props.itemName}</h4>\n                <p>{this.props.desc}</p>\n                <h4>{\"Remaining: \" + this.props.remaining}</h4>\n            </div>\n        );\n    }\n\n\n    render() {\n        return(\n            this.renderItemCard()\n        );\n    }\n}\n \nexport default Inventory;"]},"metadata":{},"sourceType":"module"}