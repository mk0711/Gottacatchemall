{"ast":null,"code":"import _regeneratorRuntime from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{apiBaseURL}from'../global';import React from'react';import DexSpecificPokemonCard from\"./DexSpecificPokemonCard\";import Form from'./Form.js';import{sendGetRequestWithAuthHeader}from\"../global\";var Dex=/*#__PURE__*/function(_React$Component){_inherits(Dex,_React$Component);var _super=_createSuper(Dex);function Dex(){var _this;_classCallCheck(this,Dex);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={dex:[],current:[]};_this.filter=function(pokemonName){var filtered=_this.state.dex.filter(function(pokemon){return pokemon.name.toLowerCase()===pokemonName.toLowerCase();});_this.setState({current:filtered});};_this.filterAutoComplete=function(pokemonName){var filtered=_this.state.dex.filter(function(pokemon){return pokemon.name.toLowerCase().startsWith(pokemonName.toLowerCase());});_this.setState({current:filtered});};_this.filterByDexNumberAutoComplete=function(dexNumber){var filtered=_this.state.dex.filter(function(pokemon){return pokemon.dexNumber.toString().startsWith(dexNumber.toString());});_this.setState({current:filtered});};_this.reset=function(){_this.setState({current:_this.state.dex});};_this.searchMonInDex=function(pokemonName){var dexNumber=parseInt(pokemonName);if(!pokemonName||pokemonName==\"\"){_this.reset();}else if(!isNaN(dexNumber)){_this.filterByDexNumberAutoComplete(dexNumber);}else{_this.filterAutoComplete(pokemonName);}};return _this;}_createClass(Dex,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var dexPath,response,dex,monInDex,_i,_Object$keys,pokemonName,caught,pokemonInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dexPath='/v1/pokedex';_context.next=3;return sendGetRequestWithAuthHeader(apiBaseURL+dexPath);case 3:response=_context.sent;_context.next=6;return response.json();case 6:dex=_context.sent;monInDex=[];_i=0,_Object$keys=Object.keys(dex);case 9:if(!(_i<_Object$keys.length)){_context.next=21;break;}pokemonName=_Object$keys[_i];caught=dex[pokemonName];if(!caught){_context.next=18;break;}_context.next=15;return this.getPokemonInDex(pokemonName);case 15:pokemonInfo=_context.sent;pokemonInfo.imageName=pokemonName;monInDex.push(pokemonInfo);case 18:_i++;_context.next=9;break;case 21:this.setState({dex:monInDex,current:monInDex});case 22:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getPokemonInDex\",value:function(){var _getPokemonInDex=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(pokemonName){var pokemonPath,response,pokemonInfo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:pokemonPath='/v1/pokedex/'+pokemonName;_context2.next=3;return sendGetRequestWithAuthHeader(apiBaseURL+pokemonPath);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:pokemonInfo=_context2.sent;return _context2.abrupt(\"return\",pokemonInfo);case 8:case\"end\":return _context2.stop();}}},_callee2);}));function getPokemonInDex(_x){return _getPokemonInDex.apply(this,arguments);}return getPokemonInDex;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":\"flex\",\"justifyContent\":\"center\"}},/*#__PURE__*/React.createElement(\"div\",{style:{\"textAlign\":\"center\",\"width\":50+\"px\",\"height\":50+\"px\",\"lineHeight\":50+\"px\",\"border\":\"1px solid green\",\"borderRadius\":\"10%\",\"marginRight\":5+\"px\"}},this.state.dex.length),/*#__PURE__*/React.createElement(Form,{placeholderText:\"Search for a pokemon...\",onSubmit:this.searchMonInDex})),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":\"flex\",\"flexWrap\":\"wrap\"}},this.state.current.map(function(pokemon){return/*#__PURE__*/React.createElement(DexGeneralPokemonCard,Object.assign({filter:_this2.filter,reset:_this2.reset,key:pokemon.name},pokemon));})));}}]);return Dex;}(React.Component);var DexGeneralPokemonCard=/*#__PURE__*/function(_React$Component2){_inherits(DexGeneralPokemonCard,_React$Component2);var _super2=_createSuper(DexGeneralPokemonCard);function DexGeneralPokemonCard(props){var _this3;_classCallCheck(this,DexGeneralPokemonCard);_this3=_super2.call(this,props);_this3.toggleSpecificRender=function(){_this3.setState({general:!_this3.state.general});};_this3.state={general:true};return _this3;}_createClass(DexGeneralPokemonCard,[{key:\"render\",value:function render(){var _this4=this;return this.state.general?/*#__PURE__*/React.createElement(\"div\",{className:\"card\",style:{\"width\":400+\"px\",\"paddingTop\":10+\"px\",\"paddingBottom\":5+\"px\"},onClick:function onClick(){_this4.toggleSpecificRender();_this4.props.filter(_this4.props.name);}},/*#__PURE__*/React.createElement(\"img\",{src:apiBaseURL+\"/v1/pokedex/image/\"+this.props.imageName,alt:this.props.name+\" image\"}),/*#__PURE__*/React.createElement(\"h3\",null,this.props.name),/*#__PURE__*/React.createElement(\"h4\",null,\"Dex no. \"+this.props.dexNumber)):/*#__PURE__*/React.createElement(\"div\",{style:{\"margin\":\"auto\"},onClick:function onClick(){_this4.toggleSpecificRender();_this4.props.reset();}},/*#__PURE__*/React.createElement(DexSpecificPokemonCard,Object.assign({key:this.props.name},this.props)),/*#__PURE__*/React.createElement(\"button\",{onClick:this.props.reset},\"Back\"));}}]);return DexGeneralPokemonCard;}(React.Component);export default Dex;","map":{"version":3,"sources":["/Users/npham24/go/src/Gottacatchemall/clients/src/containers/Dex.js"],"names":["apiBaseURL","React","DexSpecificPokemonCard","Form","sendGetRequestWithAuthHeader","Dex","state","dex","current","filter","pokemonName","filtered","pokemon","name","toLowerCase","setState","filterAutoComplete","startsWith","filterByDexNumberAutoComplete","dexNumber","toString","reset","searchMonInDex","parseInt","isNaN","dexPath","response","json","monInDex","Object","keys","caught","getPokemonInDex","pokemonInfo","imageName","push","pokemonPath","length","map","Component","DexGeneralPokemonCard","props","toggleSpecificRender","general"],"mappings":"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","sourcesContent":["import { apiBaseURL } from '../global';\nimport React from 'react';\nimport DexSpecificPokemonCard from \"./DexSpecificPokemonCard\";\nimport Form from './Form.js';\nimport { sendGetRequestWithAuthHeader } from \"../global\";\n\n\nclass Dex extends React.Component {\n    state = {\n        dex: [],\n        current: [],\n    };\n\n    async componentDidMount() {\n        const dexPath = '/v1/pokedex'\n        const response = await sendGetRequestWithAuthHeader(apiBaseURL + dexPath)\n        const dex = await response.json();\n  \n        let monInDex = [];\n        for (const pokemonName of Object.keys(dex)) {\n            const caught = dex[pokemonName]\n            if (caught) {\n                const pokemonInfo = await this.getPokemonInDex(pokemonName);\n                pokemonInfo.imageName = pokemonName;\n                monInDex.push(pokemonInfo);\n            }\n        }\n        this.setState({\n            dex: monInDex,\n            current: monInDex\n        })\n    }\n\n\n\n    async getPokemonInDex(pokemonName) {\n        const pokemonPath = '/v1/pokedex/' + pokemonName;\n        const response = await sendGetRequestWithAuthHeader(apiBaseURL + pokemonPath);\n        const pokemonInfo = await response.json();\n        return pokemonInfo;\n    }\n\n    filter = (pokemonName) => {\n        let filtered = this.state.dex.filter((pokemon) => {\n\n            return pokemon.name.toLowerCase() === pokemonName.toLowerCase();\n        });\n        \n        this.setState({\n            current: filtered\n        });\n    }\n\n    filterAutoComplete = (pokemonName) => {\n        let filtered = this.state.dex.filter((pokemon) => {\n            return pokemon.name.toLowerCase().startsWith(pokemonName.toLowerCase());\n        });\n        \n        this.setState({\n            current: filtered\n        });\n    }\n\n    filterByDexNumberAutoComplete = (dexNumber) => {\n        let filtered = this.state.dex.filter((pokemon) => {\n            return pokemon.dexNumber.toString().startsWith(dexNumber.toString());\n        });\n        \n        this.setState({\n            current: filtered\n        });\n    }\n\n    reset = () => {\n        this.setState({\n            current: this.state.dex\n        });\n    }\n\n    searchMonInDex = (pokemonName) => {\n        const dexNumber = parseInt(pokemonName);\n        if (!pokemonName || pokemonName == \"\") {\n            this.reset();\n        } else if (!isNaN(dexNumber)) {\n            this.filterByDexNumberAutoComplete(dexNumber);\n        } else {\n            \n            this.filterAutoComplete(pokemonName);\n        }\n    }\n\n    render() {\n        return(\n            <div>\n                <div style={{\"display\": \"flex\", \"justifyContent\": \"center\"}}>\n                    <div style={{\"textAlign\": \"center\", \n                                  \"width\": 50+\"px\", \n                                  \"height\": 50 + \"px\", \n                                  \"lineHeight\": 50 + \"px\",\n                                  \"border\": \"1px solid green\",\n                                  \"borderRadius\": \"10%\",\n                                  \"marginRight\": 5+\"px\"}}>\n                        {this.state.dex.length}\n                    </div>\n                    <Form\n                        placeholderText=\"Search for a pokemon...\"\n                        onSubmit={this.searchMonInDex}\n                    />\n                </div>\n\n                <hr />\n\n                <div style={{\"display\": \"flex\", \"flexWrap\": \"wrap\"}}>\n                    {this.state.current.map((pokemon => <DexGeneralPokemonCard filter={this.filter} reset = {this.reset} key={pokemon.name} {...pokemon} />))}\n                </div>\n            </div>\n\n        );\n    }\n}\n\nclass DexGeneralPokemonCard extends React.Component {\n    constructor (props) {\n        super(props)\n        \n        this.state = {\n            general: true\n        }\n    }\n\n    toggleSpecificRender = () => {\n        this.setState({general: !this.state.general})\n    }\n\n    render() {\n        return(\n            this.state.general ? (\n                <div className=\"card\" style={{\"width\": 400+ \"px\", \"paddingTop\": 10+\"px\", \"paddingBottom\": 5+\"px\"}} onClick={() => {\n                    this.toggleSpecificRender();\n                    this.props.filter(this.props.name)\n                }}>\n                    <img src={apiBaseURL + \"/v1/pokedex/image/\" + this.props.imageName} alt={this.props.name + \" image\"} />\n                    <h3>{this.props.name}</h3>\n                    <h4>{\"Dex no. \" + this.props.dexNumber}</h4>\n                </div>\n            ):(\n                <div style={{\"margin\": \"auto\"}} onClick={() => {\n                    this.toggleSpecificRender();\n                    this.props.reset();\n                }}>\n                    <DexSpecificPokemonCard key ={this.props.name} {...this.props}/>    \n                    <button onClick={this.props.reset}>Back</button>        \n                </div>\n            )\n        );\n    }\n}\n\nexport default Dex;"]},"metadata":{},"sourceType":"module"}