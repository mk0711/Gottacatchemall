{"ast":null,"code":"var _jsxFileName = \"/Users/mac/go/src/github.com/Gottacatchemall/clients/src/Components/Main/Content/MainPageContent/MainPageContent.js\";\nimport React, { useState, useEffect } from 'react';\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\nimport './Styles/MainPageContent.css';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\n\nconst MainPageContent = ({\n  user,\n  setPage\n}) => {\n  const [avatar, setAvatar] = useState(null);\n\n  async function fetchAvatar() {\n    const response = await fetch(api.base + api.handlers.myuserAvatar, {\n      method: \"GET\",\n      headers: new Headers({\n        \"Authorization\": localStorage.getItem(\"Authorization\")\n      })\n    });\n\n    if (response.status >= 300) {\n      // const error = await response.text();\n      setAvatar(user.photoURL);\n      return;\n    }\n\n    const imgBlob = await response.blob();\n    setAvatar(URL.createObjectURL(imgBlob));\n  }\n\n  useEffect(() => {\n    fetchAvatar();\n    return;\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, \"Welcome to my application, \", user.firstName, \" \", user.lastName), avatar && /*#__PURE__*/React.createElement(\"img\", {\n    className: \"avatar\",\n    src: avatar,\n    alt: `${user.firstName}'s avatar`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 20\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      setPage(e, PageTypes.signedInUpdateName);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 14\n    }\n  }, \"Update name\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      setPage(e, PageTypes.signedInUpdateAvatar);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 14\n    }\n  }, \"Update avatar\")));\n};\n\nexport default MainPageContent;","map":{"version":3,"sources":["/Users/mac/go/src/github.com/Gottacatchemall/clients/src/Components/Main/Content/MainPageContent/MainPageContent.js"],"names":["React","useState","useEffect","PageTypes","api","MainPageContent","user","setPage","avatar","setAvatar","fetchAvatar","response","fetch","base","handlers","myuserAvatar","method","headers","Headers","localStorage","getItem","status","photoURL","imgBlob","blob","URL","createObjectURL","firstName","lastName","e","signedInUpdateName","signedInUpdateAvatar"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,2CAAtB;AACA,OAAO,8BAAP;AACA,OAAOC,GAAP,MAAgB,iDAAhB;;AAEA,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAD,KAAuB;AAC3C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,IAAD,CAApC;;AAEA,iBAAeS,WAAf,GAA6B;AACzB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACR,GAAG,CAACS,IAAJ,GAAWT,GAAG,CAACU,QAAJ,CAAaC,YAAzB,EAAuC;AAC/DC,MAAAA,MAAM,EAAE,KADuD;AAE/DC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,yBAAiBC,YAAY,CAACC,OAAb,CAAqB,eAArB;AADA,OAAZ;AAFsD,KAAvC,CAA5B;;AAMA,QAAIT,QAAQ,CAACU,MAAT,IAAmB,GAAvB,EAA4B;AACxB;AACAZ,MAAAA,SAAS,CAACH,IAAI,CAACgB,QAAN,CAAT;AACA;AACH;;AACD,UAAMC,OAAO,GAAG,MAAMZ,QAAQ,CAACa,IAAT,EAAtB;AACAf,IAAAA,SAAS,CAACgB,GAAG,CAACC,eAAJ,CAAoBH,OAApB,CAAD,CAAT;AACH;;AAEDrB,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,WAAW;AACX;AACH,GAHQ,EAGN,EAHM,CAAT;AAKA,sBAAO,uDACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAiCJ,IAAI,CAACqB,SAAtC,OAAkDrB,IAAI,CAACsB,QAAvD,CADG,EAGFpB,MAAM,iBAAI;AAAK,IAAA,SAAS,EAAE,QAAhB;AAA0B,IAAA,GAAG,EAAEA,MAA/B;AAAuC,IAAA,GAAG,EAAG,GAAEF,IAAI,CAACqB,SAAU,WAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHR,eAIH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAQ,IAAA,OAAO,EAAGE,CAAD,IAAO;AAAEtB,MAAAA,OAAO,CAACsB,CAAD,EAAI1B,SAAS,CAAC2B,kBAAd,CAAP;AAA0C,KAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAL,CAJG,eAKH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAQ,IAAA,OAAO,EAAGD,CAAD,IAAO;AAAEtB,MAAAA,OAAO,CAACsB,CAAD,EAAI1B,SAAS,CAAC4B,oBAAd,CAAP;AAA4C,KAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAL,CALG,CAAP;AAOH,CA/BD;;AAiCA,eAAe1B,eAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\nimport './Styles/MainPageContent.css';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\n\nconst MainPageContent = ({ user, setPage }) => {\n    const [avatar, setAvatar] = useState(null)\n\n    async function fetchAvatar() {\n        const response = await fetch(api.base + api.handlers.myuserAvatar, {\n            method: \"GET\",\n            headers: new Headers({\n                \"Authorization\": localStorage.getItem(\"Authorization\")\n            })\n        });\n        if (response.status >= 300) {\n            // const error = await response.text();\n            setAvatar(user.photoURL)\n            return;\n        }\n        const imgBlob = await response.blob();\n        setAvatar(URL.createObjectURL(imgBlob));\n    }\n\n    useEffect(() => {\n        fetchAvatar();\n        return;\n    }, []);\n\n    return <>\n        <div>Welcome to my application, {user.firstName} {user.lastName}</div>\n\n        {avatar && <img className={\"avatar\"} src={avatar} alt={`${user.firstName}'s avatar`} />}\n        <div><button onClick={(e) => { setPage(e, PageTypes.signedInUpdateName) }}>Update name</button></div>\n        <div><button onClick={(e) => { setPage(e, PageTypes.signedInUpdateAvatar) }}>Update avatar</button></div>\n    </>\n}\n\nexport default MainPageContent;"]},"metadata":{},"sourceType":"module"}