{"ast":null,"code":"var _jsxFileName = \"/Users/mac/go/src/github.com/Gottacatchemall/clients/src/Components/Main/Components/SignOutButton/SignOutButton.js\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\n\nconst SignOutButton = ({\n  setAuthToken,\n  setUser\n}) => {\n  const [error, setError] = useState(\"\");\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: async e => {\n      e.preventDefault();\n      const response = await fetch(api.base + api.handlers.sessionsMine, {\n        method: \"DELETE\"\n      });\n\n      if (response.status >= 300) {\n        const error = await response.text();\n        setError(error);\n        return;\n      }\n\n      localStorage.removeItem(\"Authorization\");\n      setError(\"\");\n      setAuthToken(\"\");\n      setUser(null);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 14\n    }\n  }, \"Sign out\"), error && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Errors, {\n    error: error,\n    setError: setError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  })));\n};\n\nSignOutButton.propTypes = {\n  setAuthToken: PropTypes.func.isRequired,\n  setUser: PropTypes.func.isRequired\n};\nexport default SignOutButton;","map":{"version":3,"sources":["/Users/mac/go/src/github.com/Gottacatchemall/clients/src/Components/Main/Components/SignOutButton/SignOutButton.js"],"names":["React","useState","PropTypes","api","Errors","SignOutButton","setAuthToken","setUser","error","setError","e","preventDefault","response","fetch","base","handlers","sessionsMine","method","status","text","localStorage","removeItem","propTypes","func","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP,MAAgB,iDAAhB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;AAEA,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAD,KAA+B;AACjD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AAEA,sBAAO,uDAAE;AAAQ,IAAA,OAAO,EAAE,MAAOS,CAAP,IAAa;AACnCA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACV,GAAG,CAACW,IAAJ,GAAWX,GAAG,CAACY,QAAJ,CAAaC,YAAzB,EAAuC;AAC/DC,QAAAA,MAAM,EAAE;AADuD,OAAvC,CAA5B;;AAGA,UAAIL,QAAQ,CAACM,MAAT,IAAmB,GAAvB,EAA4B;AACxB,cAAMV,KAAK,GAAG,MAAMI,QAAQ,CAACO,IAAT,EAApB;AACAV,QAAAA,QAAQ,CAACD,KAAD,CAAR;AACA;AACH;;AACDY,MAAAA,YAAY,CAACC,UAAb,CAAwB,eAAxB;AACAZ,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACAH,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACAC,MAAAA,OAAO,CAAC,IAAD,CAAP;AACH,KAdQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAF,EAeFC,KAAK,iBACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEA,KAAf;AAAsB,IAAA,QAAQ,EAAEC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAhBD,CAAP;AAqBH,CAxBD;;AA0BAJ,aAAa,CAACiB,SAAd,GAA0B;AACtBhB,EAAAA,YAAY,EAAEJ,SAAS,CAACqB,IAAV,CAAeC,UADP;AAEtBjB,EAAAA,OAAO,EAAEL,SAAS,CAACqB,IAAV,CAAeC;AAFF,CAA1B;AAKA,eAAenB,aAAf","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\n\nconst SignOutButton = ({ setAuthToken, setUser }) => {\n    const [error, setError] = useState(\"\");\n\n    return <><button onClick={async (e) => {\n        e.preventDefault();\n        const response = await fetch(api.base + api.handlers.sessionsMine, {\n            method: \"DELETE\"\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            setError(error);\n            return;\n        }\n        localStorage.removeItem(\"Authorization\");\n        setError(\"\");\n        setAuthToken(\"\");\n        setUser(null);\n    }}>Sign out</button>\n        {error &&\n            <div>\n                <Errors error={error} setError={setError} />\n            </div>\n        }\n    </>\n}\n\nSignOutButton.propTypes = {\n    setAuthToken: PropTypes.func.isRequired,\n    setUser: PropTypes.func.isRequired\n}\n\nexport default SignOutButton;"]},"metadata":{},"sourceType":"module"}