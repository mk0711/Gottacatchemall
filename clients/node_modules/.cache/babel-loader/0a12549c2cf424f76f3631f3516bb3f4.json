{"ast":null,"code":"import _regeneratorRuntime from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{apiBaseURL,rarityColorMap}from'../global';import TeamSpecificPokemonCard from\"./TeamPokemonCard\";import BallInventory from\"./BallInventory\";import{sendGetRequestWithAuthHeader}from\"../global\";var MainPage=/*#__PURE__*/function(_React$Component){_inherits(MainPage,_React$Component);var _super=_createSuper(MainPage);function MainPage(props){var _this;_classCallCheck(this,MainPage);_this=_super.call(this,props);_this.encounter=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var encounterPath,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:encounterPath=\"/v1/encounter\";_context.next=3;return sendGetRequestWithAuthHeader(apiBaseURL+encounterPath);case 3:response=_context.sent;if(!(response.status==401)){_context.next=8;break;}_this.setState({errorMessage:\"Please log in.\"});_context.next=20;break;case 8:_this.clearErrorMsg();_context.next=11;return response.json();case 11:data=_context.sent;if(_this.state.caughtPokemon){_this.setState({caughtPokemon:null});}_context.t0=_this;_context.t1={isEncountering:true,pokemonName:data.pokemonName,rarity:data.rarity};_context.next=17;return _this.isCaught(data.pokemonName);case 17:_context.t2=_context.sent;_context.t3={encountering:_context.t1,isAlreadyCaughtBefore:_context.t2};_context.t0.setState.call(_context.t0,_context.t3);case 20:case\"end\":return _context.stop();}}},_callee);}));_this.runaway=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var runawayPath,response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:runawayPath=\"/v1/runaway\";_context2.next=3;return sendGetRequestWithAuthHeader(apiBaseURL+runawayPath);case 3:response=_context2.sent;_context2.next=6;return response.text();case 6:data=_context2.sent;_this.setState({encountering:{isEncountering:false}});case 8:case\"end\":return _context2.stop();}}},_callee2);}));_this.catch=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var catchPath,response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:catchPath=\"/v1/catch/\"+_this.state.encountering.pokemonName+\"?ball=\"+_this.state.pokeball;_context3.next=3;return sendGetRequestWithAuthHeader(apiBaseURL+catchPath);case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:data=_context3.sent;if(data.status===\"success\"){_this.setState({encountering:{isEncountering:false},caughtPokemon:data.pokemon});}else{alert(\"Catch failed!\");}case 8:case\"end\":return _context3.stop();}}},_callee3);}));_this.changeBall=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var inventoryPath,response,inventory;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:inventoryPath=\"/v1/inventory\";_context4.next=3;return sendGetRequestWithAuthHeader(apiBaseURL+inventoryPath);case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:inventory=_context4.sent;_this.setState({isSelectingBall:true});case 8:case\"end\":return _context4.stop();}}},_callee4);}));_this.selectSpecificBall=function(ballName){_this.setState({pokeball:ballName});};_this.isCaught=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(pokemonName){var dexPath,response,dex;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dexPath='/v1/pokedex';_context5.next=3;return sendGetRequestWithAuthHeader(apiBaseURL+dexPath);case 3:response=_context5.sent;_context5.next=6;return response.json();case 6:dex=_context5.sent;return _context5.abrupt(\"return\",dex[pokemonName]);case 8:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x){return _ref5.apply(this,arguments);};}();_this.clearErrorMsg=function(){_this.setState({errorMessage:\"\"});};_this.render=function(){return/*#__PURE__*/React.createElement(\"div\",null,_this.state.errorMessage&&/*#__PURE__*/React.createElement(\"p\",{className:\"alert alert-danger\"},_this.state.errorMessage),!_this.state.isSelectingBall?/*#__PURE__*/React.createElement(\"div\",null,!_this.state.encountering.isEncountering?/*#__PURE__*/React.createElement(\"button\",{onClick:_this.encounter},\"Encounter\"):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:_this.catch},\"Catch\"),/*#__PURE__*/React.createElement(\"button\",{onClick:_this.runaway},\"Run Away\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":\"flex\",\"justifyContent\":\"center\"}},/*#__PURE__*/React.createElement(\"h3\",null,\"Using ball: \"),/*#__PURE__*/React.createElement(\"img\",{style:{\"width\":50+\"px\",\"height\":50+\"px\"},src:apiBaseURL+\"/v1/items/image/\"+_this.state.pokeball,alt:_this.state.pokeball+\" image\"}),/*#__PURE__*/React.createElement(\"button\",{style:{\"marginLeft\":10+\"px\"},onClick:_this.changeBall},\"Change ball\")),/*#__PURE__*/React.createElement(\"h2\",null,\"Encountering:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card\",style:{\"width\":400+\"px\",\"border\":2+\"px solid\",\"borderColor\":rarityColorMap[_this.state.encountering.rarity],\"paddingTop\":10+\"px\",\"paddingBottom\":5+\"px\"}},/*#__PURE__*/React.createElement(\"img\",{src:apiBaseURL+\"/v1/pokedex/image/\"+_this.state.encountering.pokemonName,alt:_this.props.name+\" image\"}),/*#__PURE__*/React.createElement(\"h3\",null,_this.state.encountering.pokemonName),/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Rarity: \"),/*#__PURE__*/React.createElement(\"span\",{style:{\"color\":rarityColorMap[_this.state.encountering.rarity]}},_this.state.encountering.rarity)),_this.state.isAlreadyCaughtBefore?/*#__PURE__*/React.createElement(\"h4\",{style:{\"color\":\"green\"}},\"Already Caught\"):/*#__PURE__*/React.createElement(\"div\",null))),_this.state.caughtPokemon&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Yes! \"+_this.state.caughtPokemon.pokemonName+\" was caught!\"),/*#__PURE__*/React.createElement(TeamSpecificPokemonCard,_this.state.caughtPokemon))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BallInventory,{selectSpecificBall:_this.selectSpecificBall,selected:_this.state.pokeball}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){_this.setState({isSelectingBall:false});}},\"Back\")));};_this.state={searchResults:[],names:[],one:'',// one is just a test variable\nimages:[],pokemon:[],savedPokemon:new Map(),encountering:{isEncountering:false,pokemonName:\"\",rarity:\"\"},isAlreadyCaughtBefore:false,caught:false,caughtPokemon:null,pokeball:\"pokeball\",isSelectingBall:false,errorMessage:\"\"};return _this;}_createClass(MainPage,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var dexPath,response,dex,caughtMon,_i,_Object$keys,pokemonName,caught;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;dexPath='/v1/pokedex';_context6.next=4;return sendGetRequestWithAuthHeader(apiBaseURL+dexPath);case 4:response=_context6.sent;if(!(response.status==401)){_context6.next=9;break;}this.setState({errorMessage:\"Please log in.\"});_context6.next=15;break;case 9:this.clearErrorMsg();_context6.next=12;return response.json();case 12:dex=_context6.sent;caughtMon=[];for(_i=0,_Object$keys=Object.keys(dex);_i<_Object$keys.length;_i++){pokemonName=_Object$keys[_i];caught=dex[pokemonName];if(caught){caughtMon.push(pokemonName);}this.setState({caughtMon:caughtMon});}case 15:_context6.next=20;break;case 17:_context6.prev=17;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 20:case\"end\":return _context6.stop();}}},_callee6,this,[[0,17]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()}]);return MainPage;}(React.Component);export default MainPage;","map":{"version":3,"sources":["/Users/npham24/go/src/Gottacatchemall/clients/src/containers/Main.js"],"names":["React","apiBaseURL","rarityColorMap","TeamSpecificPokemonCard","BallInventory","sendGetRequestWithAuthHeader","MainPage","props","encounter","encounterPath","response","status","setState","errorMessage","clearErrorMsg","json","data","state","caughtPokemon","isEncountering","pokemonName","rarity","isCaught","encountering","isAlreadyCaughtBefore","runaway","runawayPath","text","catch","catchPath","pokeball","pokemon","alert","changeBall","inventoryPath","inventory","isSelectingBall","selectSpecificBall","ballName","dexPath","dex","render","name","searchResults","names","one","images","savedPokemon","Map","caught","caughtMon","Object","keys","push","console","log","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport { apiBaseURL, rarityColorMap } from '../global'\nimport TeamSpecificPokemonCard from \"./TeamPokemonCard\";\nimport BallInventory from \"./BallInventory\";\nimport { sendGetRequestWithAuthHeader } from \"../global\";\n\nclass MainPage extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            searchResults: [],\n            names: [],\n            one: '', // one is just a test variable\n            images: [],\n            pokemon: [],\n            savedPokemon: new Map(),\n            encountering: {\n              isEncountering: false,\n              pokemonName: \"\",\n              rarity: \"\",\n            },\n            isAlreadyCaughtBefore: false,\n            caught: false,\n            caughtPokemon: null,\n            pokeball: \"pokeball\",\n            isSelectingBall: false,\n            errorMessage: \"\",\n        }\n    }\n\n    async componentDidMount() {\n      try {\n        const dexPath = '/v1/pokedex';\n        const response = await sendGetRequestWithAuthHeader(apiBaseURL + dexPath);\n        if (response.status == 401) {\n          this.setState({\n            errorMessage: \"Please log in.\"\n          })\n        } else {\n          this.clearErrorMsg();\n          const dex = await response.json();\n  \n          let caughtMon = []\n          for (const pokemonName of Object.keys(dex)) {\n              const caught = dex[pokemonName]\n              if (caught) {\n                  caughtMon.push(pokemonName)\n              }\n              this.setState({ caughtMon: caughtMon })\n          }\n        }\n      } catch(e) {\n        console.log(e);\n      }\n    }\n\n    encounter = async () => {\n      const encounterPath = \"/v1/encounter\";\n      const response = await sendGetRequestWithAuthHeader(apiBaseURL + encounterPath);\n      if (response.status == 401) {\n        this.setState({\n          errorMessage: \"Please log in.\"\n        })\n      } else {\n        this.clearErrorMsg();\n        const data = await response.json();\n\n        if (this.state.caughtPokemon) {\n          this.setState({\n            caughtPokemon: null\n          });\n        }\n  \n        this.setState({encountering: {\n          isEncountering: true,\n          pokemonName: data.pokemonName,\n          rarity: data.rarity,\n        }, isAlreadyCaughtBefore: await this.isCaught(data.pokemonName)})\n      }\n\n    }\n\n    runaway = async () => {\n      const runawayPath = \"/v1/runaway\";\n      const response = await sendGetRequestWithAuthHeader(apiBaseURL + runawayPath);\n\n      const data = await response.text();\n\n      this.setState({encountering: {\n        isEncountering: false\n      }})\n    }\n\n    catch = async () => {\n      const catchPath = \"/v1/catch/\" + this.state.encountering.pokemonName + \"?ball=\" + this.state.pokeball;\n      const response = await sendGetRequestWithAuthHeader(apiBaseURL + catchPath);\n\n      const data = await response.json();\n\n      if (data.status === \"success\") {\n        this.setState({\n          encountering: {\n            isEncountering: false\n          },\n          caughtPokemon: data.pokemon\n        });\n      } else {\n        alert(\"Catch failed!\");\n      }\n    }\n\n    changeBall = async () => {\n      const inventoryPath = \"/v1/inventory\";\n      const response = await sendGetRequestWithAuthHeader(apiBaseURL + inventoryPath);\n\n      const inventory = await response.json();\n      this.setState({\n        isSelectingBall: true\n      });\n    }\n\n    selectSpecificBall = (ballName) => {\n      this.setState({\n        pokeball: ballName\n      })\n    }\n\n    isCaught = async (pokemonName) => {\n      const dexPath = '/v1/pokedex';\n      const response = await sendGetRequestWithAuthHeader(apiBaseURL + dexPath);\n\n      const dex = await response.json();\n      return dex[pokemonName];\n    }\n\n    clearErrorMsg = () => {\n      this.setState({\n        errorMessage: \"\"\n      })\n    }\n\n    render = () => {\n        return (\n          <div>\n            {this.state.errorMessage && (\n              <p className=\"alert alert-danger\">{this.state.errorMessage}</p>\n            )}\n\n            {!this.state.isSelectingBall ? (\n              <div>\n                {!this.state.encountering.isEncountering ? (\n                  <button onClick={this.encounter}>\n                    Encounter\n                  </button>\n                ) : (\n                  <div>\n                    <button onClick={this.catch}>\n                      Catch\n                    </button>\n                    <button onClick={this.runaway}>  \n                      Run Away\n                    </button>\n                    <br/>\n                    <br/>\n                    <div style={{\"display\": \"flex\", \"justifyContent\": \"center\"}}>\n                      <h3>{\"Using ball: \"}</h3>\n                      <img  style = {{\"width\": 50+ \"px\", \"height\": 50 + \"px\"}} \n                            src={apiBaseURL + \"/v1/items/image/\" + this.state.pokeball} \n                            alt={this.state.pokeball + \" image\"} />\n                      <button \n                        style={{\"marginLeft\": 10 + \"px\"}}\n                        onClick={this.changeBall}>Change ball</button>\n                    </div>\n                    <h2>Encountering:</h2>\n                    <div className=\"card\" style={{\n                    \"width\": 400+ \"px\", \n                    \"border\": 2 + \"px solid\",\n                    \"borderColor\": rarityColorMap[this.state.encountering.rarity],\n                    \"paddingTop\": 10 + \"px\",\n                    \"paddingBottom\": 5 + \"px\"\n                    }}>\n                      <img src={apiBaseURL + \"/v1/pokedex/image/\" + this.state.encountering.pokemonName} alt={this.props.name + \" image\"} />\n                      <h3>{this.state.encountering.pokemonName}</h3>\n                      <h4>\n                        <span>Rarity: </span>\n                        <span style={{\"color\": rarityColorMap[this.state.encountering.rarity]}}>{this.state.encountering.rarity}</span>\n                      </h4>\n                      {this.state.isAlreadyCaughtBefore ? (\n                        <h4 style={{\"color\": \"green\"}}>Already Caught</h4>\n                      ) : (\n                        <div></div>\n                      )\n                      }\n                    </div>\n                  </div>\n                )}\n                {this.state.caughtPokemon && \n                  <div>\n                    <h2>{\"Yes! \" + this.state.caughtPokemon.pokemonName + \" was caught!\"}</h2>\n                    <TeamSpecificPokemonCard {...this.state.caughtPokemon}/>\n                  </div>\n                }\n              </div>\n            ) : (\n              <div>\n                <BallInventory selectSpecificBall={this.selectSpecificBall} selected={this.state.pokeball}/>\n                <button onClick={() => {\n                  this.setState({\n                    isSelectingBall: false\n                  })\n                }}>Back</button>\n              </div>\n            )} \n          </div>\n          \n        )\n    }\n}\n\nexport default MainPage\n"]},"metadata":{},"sourceType":"module"}