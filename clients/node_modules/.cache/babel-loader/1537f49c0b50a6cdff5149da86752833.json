{"ast":null,"code":"import _regeneratorRuntime from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/npham24/go/src/Gottacatchemall/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{apiBaseURL}from'../global';import React from'react';import{sendGetRequestWithAuthHeader}from\"../global\";var BallInventory=/*#__PURE__*/function(_React$Component){_inherits(BallInventory,_React$Component);var _super=_createSuper(BallInventory);function BallInventory(){var _this;_classCallCheck(this,BallInventory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={balls:[]};return _this;}_createClass(BallInventory,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var inventoryPath,response,inventory,allBallsInfo,_i,_Object$keys,ballName,ballInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:inventoryPath=\"/v1/inventory\";_context.next=3;return sendGetRequestWithAuthHeader(apiBaseURL+inventoryPath);case 3:response=_context.sent;_context.next=6;return response.json();case 6:inventory=_context.sent;allBallsInfo=[];_i=0,_Object$keys=Object.keys(inventory.balls);case 9:if(!(_i<_Object$keys.length)){_context.next=20;break;}ballName=_Object$keys[_i];_context.next=13;return this.getBallInfo(ballName);case 13:ballInfo=_context.sent;ballInfo.remaining=inventory.balls[ballName];ballInfo.imageName=ballName;if(ballInfo){allBallsInfo.push(ballInfo);}case 17:_i++;_context.next=9;break;case 20:this.setState({balls:allBallsInfo});case 21:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getBallInfo\",value:function(){var _getBallInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ballName){var itemPath,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:itemPath=\"/v1/items/balls/\"+ballName;_context2.next=3;return sendGetRequestWithAuthHeader(apiBaseURL+itemPath);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:return _context2.abrupt(\"return\",_context2.sent);case 7:case\"end\":return _context2.stop();}}},_callee2);}));function getBallInfo(_x){return _getBallInfo.apply(this,arguments);}return getBallInfo;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":\"flex\",\"flexWrap\":\"wrap\"}},this.state.balls.map(function(ball){return/*#__PURE__*/React.createElement(Item,Object.assign({selectSpecificBall:_this2.props.selectSpecificBall,selected:_this2.props.selected,key:ball.imageName},ball));}));}}]);return BallInventory;}(React.Component);var Item=/*#__PURE__*/function(_React$Component2){_inherits(Item,_React$Component2);var _super2=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super2.call(this,props);_this3.renderItemCard=function(){var selected=_this3.props.selected===_this3.props.imageName;var border=selected?\"2px solid black\":\"\";return/*#__PURE__*/React.createElement(\"div\",{className:\"card\",onClick:function onClick(){_this3.props.selectSpecificBall(_this3.props.imageName);},style:{\"padding\":5+\"px\",\"width\":250+\"px\",\"border\":border}},/*#__PURE__*/React.createElement(\"img\",{style:{\"width\":150+\"px\",\"height\":150+\"px\"},src:apiBaseURL+\"/v1/items/image/\"+_this3.props.imageName,alt:_this3.props.itemName+\" image\"}),/*#__PURE__*/React.createElement(\"h4\",null,_this3.props.itemName),/*#__PURE__*/React.createElement(\"p\",null,_this3.props.desc),/*#__PURE__*/React.createElement(\"h4\",null,\"Remaining: \"+_this3.props.remaining));};return _this3;}_createClass(Item,[{key:\"render\",value:function render(){return this.renderItemCard();}}]);return Item;}(React.Component);export default BallInventory;","map":{"version":3,"sources":["/Users/npham24/go/src/Gottacatchemall/clients/src/containers/BallInventory.js"],"names":["apiBaseURL","React","sendGetRequestWithAuthHeader","BallInventory","state","balls","inventoryPath","response","json","inventory","allBallsInfo","Object","keys","ballName","getBallInfo","ballInfo","remaining","imageName","push","setState","itemPath","map","ball","props","selectSpecificBall","selected","Component","Item","renderItemCard","border","itemName","desc"],"mappings":"q8BAAA,OAASA,UAAT,KAA2B,WAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,4BAAT,KAA6C,WAA7C,C,GAEMC,CAAAA,a,mWACFC,K,CAAQ,CACJC,KAAK,CAAE,EADH,C,2XAKEC,a,CAAgB,e,uBACCJ,CAAAA,4BAA4B,CAACF,UAAU,CAAGM,aAAd,C,QAA7CC,Q,qCACkBA,CAAAA,QAAQ,CAACC,IAAT,E,QAAlBC,S,eAEFC,Y,CAAe,E,mBACIC,MAAM,CAACC,IAAP,CAAYH,SAAS,CAACJ,KAAtB,C,8DAAZQ,Q,yCACc,MAAKC,WAAL,CAAiBD,QAAjB,C,SAAjBE,Q,eACJA,QAAQ,CAACC,SAAT,CAAqBP,SAAS,CAACJ,KAAV,CAAgBQ,QAAhB,CAArB,CACAE,QAAQ,CAACE,SAAT,CAAqBJ,QAArB,CAEA,GAAIE,QAAJ,CAAc,CACVL,YAAY,CAACQ,IAAb,CAAkBH,QAAlB,EACH,C,2CAGL,KAAKI,QAAL,CAAc,CACVd,KAAK,CAAEK,YADG,CAAd,E,0SAKcG,Q,4IACRO,Q,CAAW,mBAAqBP,Q,wBACfX,CAAAA,4BAA4B,CAACF,UAAU,CAAGoB,QAAd,C,QAA7Cb,Q,uCACOA,CAAAA,QAAQ,CAACC,IAAT,E,qPAGR,iBACL,mBACI,2BAAK,KAAK,CAAE,CAAC,UAAW,MAAZ,CAAoB,WAAY,MAAhC,CAAZ,EACK,KAAKJ,KAAL,CAAWC,KAAX,CAAiBgB,GAAjB,CAAsB,SAAAC,IAAI,qBACvB,oBAAC,IAAD,gBAAM,kBAAkB,CAAE,MAAI,CAACC,KAAL,CAAWC,kBAArC,CACM,QAAQ,CAAG,MAAI,CAACD,KAAL,CAAWE,QAD5B,CAEM,GAAG,CAAEH,IAAI,CAACL,SAFhB,EAGUK,IAHV,EADuB,EAA1B,CADL,CADJ,CASH,C,2BA1CuBrB,KAAK,CAACyB,S,KA6C5BC,CAAAA,I,2GACF,cAAaJ,KAAb,CAAoB,uCAChB,yBAAMA,KAAN,EADgB,OAIpBK,cAJoB,CAIH,UAAM,CAEnB,GAAMH,CAAAA,QAAQ,CAAG,OAAKF,KAAL,CAAWE,QAAX,GAAwB,OAAKF,KAAL,CAAWN,SAApD,CACA,GAAMY,CAAAA,MAAM,CAAGJ,QAAQ,CAAG,iBAAH,CAAsB,EAA7C,CACA,mBACI,2BAAK,SAAS,CAAC,MAAf,CACA,OAAO,CAAE,kBAAM,CACX,OAAKF,KAAL,CAAWC,kBAAX,CAA8B,OAAKD,KAAL,CAAWN,SAAzC,EACH,CAHD,CAIA,KAAK,CAAE,CACH,UAAW,EAAG,IADX,CAEH,QAAS,IAAM,IAFZ,CAGH,SAAUY,MAHP,CAJP,eASI,2BAAK,KAAK,CAAI,CAAC,QAAS,IAAK,IAAf,CAAqB,SAAU,IAAM,IAArC,CAAd,CACK,GAAG,CAAE7B,UAAU,CAAG,kBAAb,CAAkC,OAAKuB,KAAL,CAAWN,SADvD,CAEK,GAAG,CAAE,OAAKM,KAAL,CAAWO,QAAX,CAAsB,QAFhC,EATJ,cAYI,8BAAK,OAAKP,KAAL,CAAWO,QAAhB,CAZJ,cAaI,6BAAI,OAAKP,KAAL,CAAWQ,IAAf,CAbJ,cAcI,8BAAK,cAAgB,OAAKR,KAAL,CAAWP,SAAhC,CAdJ,CADJ,CAkBH,CA1BmB,eAEnB,C,wDA2BQ,CACL,MACI,MAAKY,cAAL,EADJ,CAGH,C,kBAlCc3B,KAAK,CAACyB,S,EAqCzB,cAAevB,CAAAA,aAAf","sourcesContent":["import { apiBaseURL } from '../global';\nimport React from 'react';\nimport { sendGetRequestWithAuthHeader } from \"../global\";\n\nclass BallInventory extends React.Component {\n    state = {\n        balls: []\n    }\n\n    async componentDidMount() {\n        const inventoryPath = \"/v1/inventory\";\n        const response = await sendGetRequestWithAuthHeader(apiBaseURL + inventoryPath);\n        const inventory = await response.json();\n\n        let allBallsInfo = [];\n        for (const ballName of Object.keys(inventory.balls)) {\n            let ballInfo = await this.getBallInfo(ballName);\n            ballInfo.remaining = inventory.balls[ballName];\n            ballInfo.imageName = ballName;\n\n            if (ballInfo) {\n                allBallsInfo.push(ballInfo);\n            }\n        }\n\n        this.setState({\n            balls: allBallsInfo\n        });\n    }\n\n    async getBallInfo(ballName) {\n        const itemPath = \"/v1/items/balls/\" + ballName;\n        const response = await sendGetRequestWithAuthHeader(apiBaseURL + itemPath);\n        return await response.json();\n    }\n\n    render() {\n        return(\n            <div style={{\"display\": \"flex\", \"flexWrap\": \"wrap\"}}>\n                {this.state.balls.map((ball => \n                    <Item selectSpecificBall={this.props.selectSpecificBall} \n                          selected ={this.props.selected}\n                          key={ball.imageName} \n                          {...ball} />))}\n            </div>\n        );\n    }\n}\n\nclass Item extends React.Component {\n    constructor (props) {\n        super(props);\n    }\n\n    renderItemCard = () => {\n\n        const selected = this.props.selected === this.props.imageName;\n        const border = selected ? \"2px solid black\": \"\";\n        return(\n            <div className=\"card\" \n            onClick={() => {\n                this.props.selectSpecificBall(this.props.imageName)\n            }}\n            style={{\n                \"padding\": 5 +\"px\",\n                \"width\": 250 + \"px\",\n                \"border\": border\n            }}>\n                <img style = {{\"width\": 150+ \"px\", \"height\": 150 + \"px\"}} \n                     src={apiBaseURL + \"/v1/items/image/\" + this.props.imageName} \n                     alt={this.props.itemName + \" image\"} />\n                <h4>{this.props.itemName}</h4>\n                <p>{this.props.desc}</p>\n                <h4>{\"Remaining: \" + this.props.remaining}</h4>\n            </div>\n        );\n    }\n\n\n    render() {\n        return(\n            this.renderItemCard()\n        );\n    }\n}\n \nexport default BallInventory;"]},"metadata":{},"sourceType":"module"}