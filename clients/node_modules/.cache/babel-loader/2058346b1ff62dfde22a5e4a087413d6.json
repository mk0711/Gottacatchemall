{"ast":null,"code":"var _jsxFileName = \"/Users/mac/go/src/github.com/Gottacatchemall/clients/src/containers/Login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport * as api from './api.js'; //import { Button, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\n\nimport { Typography, TextField, Button, Icon, IconButton } from '@material-ui/core';\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.setField = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.setError = error => {\n      this.setState({\n        error\n      });\n    };\n\n    this.validateForm = () => {\n      return this.state.email.length > 0 && this.password.length > 0;\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      fireRedirect: false\n    };\n  }\n\n  submitForm() {\n    this.setState({\n      isBusy: true\n    });\n    let body = JSON.stringify({\n      email: this.state.email,\n      password: this.state.password\n    });\n    fetch(api.sessionurl, {\n      method: \"POST\",\n      body: body,\n      headers: new Headers({\n        \"Content-Type\": \"application/json\"\n      })\n    }).then(resp => {\n      if (!resp.ok) {\n        resp.text().then(text => {\n          window.alert('Error ' + resp.status + ' - ' + text);\n        });\n        throw new Error(resp);\n      }\n\n      return resp;\n    }).then(resp => {\n      localStorage.setItem('auth', resp.headers.get('Authorization'));\n      this.setState({\n        url: '/documents',\n        fireRedirect: true\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        error: err\n      });\n    }).then(() => {\n      this.setState({\n        isBusy: false\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: this.props.classes.divStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      type: \"email\",\n      name: \"email\",\n      label: \"Email\",\n      className: this.props.classes.TextField,\n      value: this.state.email,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      type: \"text\",\n      name: \"displayName\",\n      label: \"Display Name\",\n      className: this.props.classes.TextField,\n      value: this.state.displayName,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      type: \"password\",\n      name: \"password\",\n      label: \"Password\",\n      className: this.props.classes.TextField,\n      value: this.state.password,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      type: \"password\",\n      name: \"passwordConf\",\n      label: \"Password Confirmation\",\n      className: this.props.classes.TextField,\n      value: this.state.passwordConf,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      disabled: this.state.isBusy,\n      className: this.props.classes.submitButton,\n      onClick: () => this.submitCredentials(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, \"Submit\")));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/Users/mac/go/src/github.com/Gottacatchemall/clients/src/containers/Login.js"],"names":["React","Component","Redirect","api","Typography","TextField","Button","Icon","IconButton","SignIn","constructor","props","handleSubmit","e","setState","target","name","value","setField","setError","error","validateForm","state","email","length","password","fireRedirect","submitForm","isBusy","body","JSON","stringify","fetch","sessionurl","method","headers","Headers","then","resp","ok","text","window","alert","status","Error","localStorage","setItem","get","url","catch","err","console","log","render","classes","divStyle","handleChange","displayName","passwordConf","submitButton","submitCredentials"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport * as api from './api.js';\n//import { Button, FormGroup, FormControl, ControlLabel } from \"react-bootstrap\";\nimport {Typography, TextField, Button, Icon, IconButton } from '@material-ui/core';\n\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n        email: '',\n        password: '',\n        fireRedirect: false\n    }\n}\n\nhandleSubmit = (e) => {\n  this.setState({ [e.target.name]: e.target.value });\n}\n\nsetField = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n}\n\nsetError = (error) => {\n    this.setState({ error })\n}\n\nvalidateForm = () => {\n  return this.state.email.length > 0 && this.password.length > 0;\n}\n\nsubmitForm() {\n    this.setState({isBusy: true})\n    let body = JSON.stringify({\n      email: this.state.email, \n      password: this.state.password\n    });\n\n    fetch(api.sessionurl, {\n      method: \"POST\",\n      body: body, \n      headers: new Headers({\n          \"Content-Type\": \"application/json\"\n      })\n    }).then(resp => {\n      if (!resp.ok) {\n        resp.text().then(text => {\n            window.alert('Error ' + resp.status + ' - ' + text)\n        })\n        throw new Error(resp)\n    }\n    return resp\n    }).then(resp => {\n      localStorage.setItem('auth', resp.headers.get('Authorization'))\n            this.setState({ url: '/documents', fireRedirect: true })\n        }).catch(err => {\n            console.log(err);\n            this.setState({ error: err });\n        }).then(() => {\n            this.setState({ isBusy: false });\n        });\n    }\n    \n    render() {\n      return (\n      <div>\n\n      <div className={this.props.classes.divStyle}>\n          <TextField\n              required\n              type=\"email\"\n              name=\"email\"\n              label=\"Email\"\n              className={this.props.classes.TextField}\n              value={this.state.email}\n              onChange={this.handleChange}\n          />\n          <TextField\n              required\n              type=\"text\"\n              name=\"displayName\"\n              label=\"Display Name\"\n              className={this.props.classes.TextField}\n              value={this.state.displayName}\n              onChange={this.handleChange}\n          />\n          <TextField\n              required\n              type=\"password\"\n              name=\"password\"\n              label=\"Password\"\n              className={this.props.classes.TextField}\n              value={this.state.password}\n              onChange={this.handleChange}\n          />\n          <TextField\n              required\n              type=\"password\"\n              name=\"passwordConf\"\n              label=\"Password Confirmation\"\n              className={this.props.classes.TextField}\n              value={this.state.passwordConf}\n              onChange={this.handleChange}\n          />\n          <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={this.state.isBusy}\n              className={this.props.classes.submitButton}\n              onClick={() => this.submitCredentials()}\n          >\n              Submit\n      </Button>\n      </div>\n  </div>\n        );\n  }\n}\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}